/* Light Theme (Default) */
:root {
  /* Primary colors */
  /*--color-primary: #33617e; */
  --color-primary: #739acc;
  --color-primary-light: #4882a3;
  --color-primary-dark: #1d4457;

  /* Accent colors */
  --color-accent: #ff5459;
  --color-accent-dark: #e84045;

  /* Theme-aware colors */
  --bg-primary: #ffffff;
  --bg-secondary: #f8f9fa;
  --bg-tertiary: #e9ecef;
  --text-primary: #212529;
  --text-secondary: #6c757d;
  --text-muted: #495057;
  --border-color: #dee2e6;
  --border-light: #e9ecef;
  --shadow: rgba(0, 0, 0, 0.1);
  --shadow-dark: rgba(0, 0, 0, 0.15);
  --overlay: rgba(0, 0, 0, 0.5);
  --overlay-dark: rgba(0, 0, 0, 0.95);

  /* Legacy neutral colors for backward compatibility */
  --color-white: #ffffff;
  --color-gray-100: #f8f9fa;
  --color-gray-200: #e9ecef;
  --color-gray-300: #dee2e6;
  --color-gray-400: #a7a9a9;
  --color-gray-500: #6c757d;
  --color-gray-600: #495057;
  --color-gray-700: #343a40;
  --color-gray-800: #212529;

  /* Legacy utility colors */
  --color-shadow: rgba(0, 0, 0, 0.1);
  --color-shadow-dark: rgba(0, 0, 0, 0.15);
  --color-overlay: rgba(0, 0, 0, 0.5);
  --color-overlay-dark: rgba(0, 0, 0, 0.95);
}

/* Dark Theme */
[data-theme="dark"] {
  /* Theme-aware colors for dark mode */
  --bg-primary: #1a1a1a;
  --bg-secondary: #2d2d2d;
  --bg-tertiary: #404040;
  --text-primary: #ffffff;
  --text-secondary: #b0b0b0;
  --text-muted: #888888;
  --border-color: #404040;
  --border-light: #555555;
  --shadow: rgba(0, 0, 0, 0.3);
  --shadow-dark: rgba(0, 0, 0, 0.5);
  --overlay: rgba(0, 0, 0, 0.7);
  --overlay-dark: rgba(0, 0, 0, 0.95);

  /* Update legacy colors for dark theme compatibility */
  --color-gray-100: #2d2d2d;
  --color-gray-200: #404040;
  --color-gray-300: #555555;
  --color-gray-500: #b0b0b0;
  --color-gray-600: #888888;
  --color-gray-700: #ffffff;
  --color-shadow: rgba(0, 0, 0, 0.3);
  --color-shadow-dark: rgba(0, 0, 0, 0.5);
  --color-overlay: rgba(0, 0, 0, 0.7);
}

body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  font-family: Arial, sans-serif;
  padding-top: 70px;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Desktop Navigation */
.navbar {
  background-color: var(--color-primary);
  padding: 0.75rem 1rem;
  min-height: 60px;
}

.navbar-brand,
.nav-link {
  color: var(--color-white) !important;
}

.nav-link:hover {
  color: var(--color-accent) !important;
  cursor: pointer;
}

/* Language Selector - Desktop */
.language-selector {
  position: relative;
  margin: 0 0.25rem;
}

.language-toggle {
  background: none;
  border: none;
  padding: 0.5rem 0.75rem;
  border-radius: 0.375rem;
  transition: background-color 0.2s ease, transform 0.2s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  will-change: transform, background-color;
  transform: translate3d(0, 0, 0);
}

.language-toggle:hover {
  background-color: rgba(255, 255, 255, 0.1);
  transform: translate3d(0, 0, 0) scale(1.02);
}

.language-toggle span {
  font-size: 0.9rem;
  font-weight: 500;
  min-width: 24px;
}

.language-toggle .fa-chevron-down {
  font-size: 0.8rem;
  transition: transform 0.2s ease;
  will-change: transform;
}

.language-selector.active .language-toggle .fa-chevron-down {
  transform: rotate(180deg);
}

.language-menu {
  position: absolute;
  top: 100%;
  right: 0;
  background-color: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: 0.5rem;
  box-shadow: 0 4px 12px var(--shadow-dark);
  min-width: 160px;
  z-index: 9999;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px) scale(0.95);
  transition: opacity 0.25s cubic-bezier(0.4, 0, 0.2, 1),
    visibility 0.25s cubic-bezier(0.4, 0, 0.2, 1),
    transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
  transform-origin: top right;
}

.language-selector.active .language-menu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
}

.language-option {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
  color: var(--text-primary);
  text-decoration: none;
  transition: background-color 0.2s ease, color 0.2s ease;
  border-bottom: 1px solid var(--border-light);
}

.language-option:last-child {
  border-bottom: none;
}

.language-option:hover {
  background-color: var(--bg-secondary);
  color: var(--color-primary);
}

.language-option span {
  font-size: 0.95rem;
  font-weight: 500;
}

/* Language option hover animations */
.language-option {
  position: relative;
  overflow: hidden;
}

.language-option::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transition: left 0.5s ease;
}

.language-option:hover::before {
  left: 100%;
}

/* Focus styles for accessibility */
.language-toggle:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

.language-option:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: -2px;
}

/* Loading state for language switching */
.language-switching .language-toggle {
  pointer-events: none;
  opacity: 0.7;
}

.language-switching .language-toggle::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 16px;
  height: 16px;
  margin: -8px 0 0 -8px;
  border: 2px solid transparent;
  border-top: 2px solid currentColor;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/* Language selector z-index management */
.language-selector {
  z-index: 1000;
}

.language-selector.active {
  z-index: 1001;
}

/* Ensure language menu appears above other elements */
.language-menu {
  z-index: 9999 !important;
}

/* Smooth transitions for all language selector elements */
.language-toggle,
.language-option,
.mobile-language-option {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .language-menu {
    border-width: 2px;
  }

  .language-option {
    border-bottom-width: 2px;
  }

  .language-toggle:focus-visible,
  .language-option:focus-visible {
    outline-width: 3px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {

  .language-menu,
  .language-toggle,
  .language-option,
  .mobile-language-option {
    transition: none;
  }

  .language-toggle .fa-chevron-down {
    transition: none;
  }

  .language-option::before {
    transition: none;
  }
}

/* Theme Toggle Button - Desktop - Performance Optimized */
.theme-toggle {
  background: none;
  border: none;
  padding: 0.5rem 0.75rem;
  margin: 0 0.25rem;
  border-radius: 0.375rem;
  transition: background-color 0.2s ease, transform 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  will-change: transform, background-color;
  transform: translate3d(0, 0, 0);
  /* Enable hardware acceleration */
}

.theme-toggle:hover {
  background-color: rgba(255, 255, 255, 0.1);
  transform: translate3d(0, 0, 0) scale(1.05);
}

.theme-toggle i {
  font-size: 1.1rem;
  transition: transform 0.2s ease;
  will-change: transform;
  transform: translate3d(0, 0, 0);
}

.theme-toggle:hover i {
  transform: translate3d(0, 0, 0) rotate(15deg);
}

/* Optimize for rapid clicking */
.theme-toggle:active {
  transform: translate3d(0, 0, 0) scale(0.95);
  transition-duration: 0.1s;
}

/* Mobile Navigation */
.mobile-nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1050;
  background-color: var(--color-primary);
}

.mobile-nav-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  min-height: 60px;
}

.mobile-brand {
  color: var(--color-white) !important;
  text-decoration: none;
  font-weight: bold;
  font-size: 1.25rem;
}

.mobile-nav-controls {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

/* Theme Toggle Button - Mobile - Performance Optimized */
.mobile-theme-toggle {
  background: none;
  border: none;
  color: var(--color-white);
  padding: 0.5rem;
  border-radius: 0.375rem;
  transition: background-color 0.2s ease, transform 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 40px;
  min-height: 40px;
  will-change: transform, background-color;
  transform: translate3d(0, 0, 0);
  /* Enable hardware acceleration */
}

.mobile-theme-toggle:hover {
  background-color: rgba(255, 255, 255, 0.1);
  transform: translate3d(0, 0, 0) scale(1.05);
}

.mobile-theme-toggle i {
  font-size: 1.1rem;
  transition: transform 0.2s ease;
  will-change: transform;
  transform: translate3d(0, 0, 0);
}

.mobile-theme-toggle:hover i {
  transform: translate3d(0, 0, 0) rotate(15deg);
}

/* Optimize for touch interactions */
.mobile-theme-toggle:active {
  transform: translate3d(0, 0, 0) scale(0.95);
  transition-duration: 0.1s;
}

.mobile-menu-toggle {
  background: none;
  border: none;
  width: 30px;
  height: 30px;
  position: relative;
  cursor: pointer;
  padding: 0;
}

.mobile-menu-toggle span {
  display: block;
  width: 25px;
  height: 3px;
  background-color: var(--color-white);
  margin: 5px 0;
  transition: 0.3s;
  transform-origin: center;
}

.mobile-menu-toggle.active span:nth-child(1) {
  transform: rotate(45deg) translate(6px, 6px);
}

.mobile-menu-toggle.active span:nth-child(2) {
  opacity: 0;
}

.mobile-menu-toggle.active span:nth-child(3) {
  transform: rotate(-45deg) translate(6px, -6px);
}

.mobile-menu {
  position: fixed;
  top: 0;
  right: -300px;
  width: 300px;
  height: 100vh;
  background-color: var(--color-primary);
  transition: right 0.3s ease;
  z-index: 1051;
  box-shadow: -2px 0 10px var(--shadow);
}

.mobile-menu.active {
  right: 0;
}

.mobile-menu-content {
  padding-top: 80px;
}

.mobile-nav-link {
  display: block;
  padding: 1rem 1.5rem;
  color: var(--color-white) !important;
  text-decoration: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  transition: background-color 0.2s;
}

.mobile-nav-link:hover {
  background-color: rgba(255, 255, 255, 0.1);
  color: var(--color-accent) !important;
}

.mobile-menu-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--overlay);
  z-index: 1049;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s, visibility 0.3s;
}

.mobile-menu-overlay.active {
  opacity: 1;
  visibility: visible;
}

/* Mobile Language Selector */
.mobile-language-section {
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  margin-bottom: 1rem;
}

.mobile-language-header {
  padding: 1rem 1.5rem 0.5rem;
  color: var(--color-white);
  font-size: 0.9rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  opacity: 0.8;
}

.mobile-language-option {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1.5rem;
  color: var(--color-white) !important;
  text-decoration: none;
  transition: background-color 0.2s ease, color 0.2s ease;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.mobile-language-option:last-child {
  border-bottom: none;
  margin-bottom: 1rem;
}

.mobile-language-option:hover {
  background-color: rgba(255, 255, 255, 0.1);
  color: var(--color-accent) !important;
}

.mobile-language-option.active {
  background-color: rgba(255, 255, 255, 0.15);
  color: var(--color-accent) !important;
}

.mobile-language-option span {
  font-size: 1rem;
  font-weight: 500;
  flex: 1;
}

.mobile-language-option .fa-check {
  font-size: 0.9rem;
  color: var(--color-accent);
}

.item-card {
  margin-bottom: 1.5rem;
  transition: transform 0.2s, box-shadow 0.2s, background-color 0.3s ease;
  border: none;
  box-shadow: 0 2px 8px var(--shadow);
  border-radius: 5px;
  overflow: hidden;
  background-color: var(--bg-primary);
}

.item-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px var(--shadow-dark);
}

.item-card.sold {
  opacity: 0.5;
  position: relative;
}

.item-card.sold::after {
  content: "SÅLD";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--color-accent);
  color: var(--color-white);
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  font-weight: bold;
}

.item-image {
  width: 100%;
  height: 200px;
  object-fit: cover;
}

.hero-section {
  margin-bottom: 2rem;
}

@media (max-width: 768px) {
  body {
    padding-top: 60px;
  }

  .item-card {
    margin-bottom: 1rem;
  }

  .hero-section h1 {
    font-size: 1.75rem;
  }

  .hero-section {
    margin-top: 1rem;
  }

  /* Improve touch targets */
  .item-card {
    min-height: 44px;
  }

  .card-body {
    padding: 1rem;
  }

  /* Better spacing for mobile */
  .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  /* Optimize grid for mobile */
  .row-cols-1 {
    --bs-gutter-x: 1rem;
  }

  /* Language selector mobile optimizations */
  .language-selector {
    margin: 0 0.125rem;
  }

  .language-toggle {
    padding: 0.4rem 0.6rem;
    gap: 0.4rem;
  }

  .language-toggle .language-toggle span {
    font-size: 0.85rem;
    min-width: 20px;
  }

  .language-menu {
    min-width: 140px;
    right: -10px;
  }

  .language-option {
    padding: 0.6rem 0.8rem;
    gap: 0.6rem;
  }

  .language-option .language-option span {
    font-size: 0.9rem;
  }
}

.price-value {
  font-weight: bold;
  font-size: 1.1rem;
  color: var(--color-primary);
}

/* Change Password Form Styles */
.change-password-form {
  max-width: 400px;
  margin: 2rem auto;
  padding: 2rem;
  background: var(--bg-secondary);
  border-radius: 8px;
  box-shadow: 0 2px 8px var(--shadow);
  transition: background-color 0.3s ease;
}

.change-password-form h2 {
  margin-bottom: 1.5rem;
  text-align: center;
  color: var(--color-primary);
}

.change-password-form label {
  display: block;
  margin-bottom: 0.5rem;
  color: var(--color-primary);
  font-weight: bold;
}

.change-password-form input[type="password"] {
  width: 100%;
  padding: 0.5rem;
  margin-bottom: 1.25rem;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  font-size: 1rem;
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

.change-password-form button[type="submit"] {
  width: 100%;
  padding: 0.75rem;
  background: var(--color-primary);
  color: var(--color-white);
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  font-weight: bold;
  transition: background 0.2s;
}

.change-password-form button[type="submit"]:hover {
  background: var(--color-accent);
}

.change-password-form ul {
  margin-top: 1rem;
  padding-left: 1.2rem;
  color: var(--color-accent);
}

.card .nav-link {
  color: var(--color-primary) !important;
}

.card .nav-link:hover {
  color: var(--color-accent) !important;
}

.footer {
  position: relative;
  bottom: 0;
  width: 100%;
  background: var(--bg-secondary);
  color: var(--color-primary);
  font-size: 1rem;
  transition: background-color 0.3s ease;
}

/* Hero Section Styles */
.hero-section .card {
  border: none;
  border-radius: 10px;
}

.hero-section .card-header {
  border-radius: 10px 10px 0 0 !important;
}

.contact-info {
  white-space: pre-line;
  font-size: 1.1rem;
  line-height: 1.6;
}

.hero-section .display-4 {
  font-weight: 300;
}

.hero-section .lead {
  font-size: 1.2rem;
  line-height: 1.6;
  color: var(--text-secondary);
}

/* Site Settings Form Styles */
.form-label i {
  color: var(--color-primary);
}

.form-text {
  font-size: 0.875rem;
  color: var(--text-secondary);
}

/* Modern Image Gallery - Theme Aware */
.modern-gallery {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modern-gallery.active {
  opacity: 1;
  visibility: visible;
}

.gallery-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--overlay-dark);
  transition: background-color 0.3s ease;
}

.gallery-container {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
}

.gallery-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  background-color: rgba(0, 0, 0, 0.9);
  color: var(--color-white);
  transition: background-color 0.3s ease;
}

.gallery-title {
  font-size: 1.2rem;
  font-weight: 600;
}

.gallery-close {
  background: none;
  border: none;
  color: var(--color-white);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 50%;
  transition: background-color 0.2s;
}

.gallery-close:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.gallery-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  position: relative;
}

.gallery-main {
  flex: 1;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.gallery-image-container {
  position: relative;
  max-width: 90%;
  max-height: 80%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.gallery-image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 8px;
  transition: transform 0.3s ease;
  cursor: grab;
}

.gallery-image:active {
  cursor: grabbing;
}

.gallery-loading {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--color-white);
  font-size: 2rem;
}

.gallery-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background-color: rgba(255, 255, 255, 0.2);
  border: none;
  color: var(--color-white);
  font-size: 1.5rem;
  padding: 1rem;
  border-radius: 50%;
  cursor: pointer;
  transition: background-color 0.2s, opacity 0.2s;
  opacity: 0.7;
}

.gallery-nav:hover {
  background-color: rgba(255, 255, 255, 0.3);
  opacity: 1;
}

.gallery-prev {
  left: 2rem;
}

.gallery-next {
  right: 2rem;
}

.gallery-thumbnails {
  display: flex;
  justify-content: center;
  padding: 1rem;
  gap: 0.5rem;
  background-color: rgba(0, 0, 0, 0.9);
  overflow-x: auto;
  scrollbar-width: thin;
  transition: background-color 0.3s ease;
}

.gallery-thumbnails::-webkit-scrollbar {
  height: 4px;
}

.gallery-thumbnails::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1);
}

.gallery-thumbnails::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
  border-radius: 2px;
}

.gallery-thumbnail {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 4px;
  cursor: pointer;
  opacity: 0.6;
  transition: opacity 0.2s, transform 0.2s;
  border: 2px solid transparent;
}

.gallery-thumbnail:hover {
  opacity: 0.8;
  transform: scale(1.05);
}

.gallery-thumbnail.active {
  opacity: 1;
  border-color: var(--color-accent);
}

.gallery-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  background-color: rgba(0, 0, 0, 0.9);
  color: var(--color-white);
  transition: background-color 0.3s ease;
}

.gallery-counter {
  font-size: 0.9rem;
  opacity: 0.8;
}

.gallery-fullscreen {
  background: none;
  border: none;
  color: var(--color-white);
  font-size: 1.2rem;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 4px;
  transition: background-color 0.2s;
}

.gallery-fullscreen:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Mobile Gallery Optimizations */
@media (max-width: 768px) {
  .gallery-nav {
    font-size: 1.2rem;
    padding: 0.8rem;
  }

  .gallery-prev {
    left: 1rem;
  }

  .gallery-next {
    right: 1rem;
  }

  .gallery-thumbnails {
    padding: 0.5rem;
  }

  .gallery-thumbnail {
    width: 50px;
    height: 50px;
  }

  .gallery-header,
  .gallery-info {
    padding: 0.75rem 1rem;
  }
}

/* Touch-friendly improvements */
@media (hover: none) and (pointer: coarse) {
  .gallery-nav {
    opacity: 1;
    background-color: rgba(255, 255, 255, 0.3);
  }

  .item-card {
    transition: transform 0.1s;
  }

  .item-card:active {
    transform: scale(0.98);
  }

  /* Touch-friendly language selector */
  .language-toggle {
    min-height: 44px;
    min-width: 44px;
  }

  .language-option {
    min-height: 44px;
    padding: 0.75rem 1rem;
  }

  .mobile-language-option {
    min-height: 48px;
    padding: 0.875rem 1.5rem;
  }

  /* Improve touch feedback */
  .language-toggle:active {
    transform: translate3d(0, 0, 0) scale(0.95);
    transition-duration: 0.1s;
  }

  .language-option:active,
  .mobile-language-option:active {
    background-color: var(--bg-tertiary);
    transition-duration: 0.1s;
  }
}

/* Search and Sort Controls */
.search-sort-container {
  background: var(--bg-secondary);
  border-radius: 10px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 4px var(--shadow);
  transition: background-color 0.3s ease;
  position: relative;
  z-index: 100;
  /* Higher than item cards but lower than dropdown */
}

.search-box .input-group {
  box-shadow: 0 2px 4px var(--shadow);
  border-radius: 8px;
  overflow: hidden;
}

.search-box .input-group-text {
  background-color: var(--color-primary);
  color: var(--color-white);
  border: none;
}

.search-box .form-control {
  border: none;
  padding: 0.75rem 1rem;
  font-size: 1rem;
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
}

.search-box .form-control:focus {
  box-shadow: 0 0 0 0.2rem rgba(32, 71, 95, 0.25);
  border-color: var(--color-primary);
}

.sort-controls .dropdown-toggle {
  border-radius: 8px;
  padding: 0.75rem 1rem;
  font-weight: 500;
  box-shadow: 0 2px 4px var(--shadow);
}

.sort-controls .dropdown {
  position: relative;
  z-index: 9999;
}

.sort-controls .dropdown-menu {
  border-radius: 8px;
  box-shadow: 0 4px 12px var(--shadow-dark);
  border: none;
  padding: 0.5rem 0;
  background-color: var(--bg-primary);
  transition: background-color 0.3s ease;
  z-index: 9999 !important;
  /* Ensure dropdown appears above item cards */
  position: absolute !important;
}

.sort-controls .dropdown-item {
  padding: 0.75rem 1rem;
  transition: background-color 0.2s;
}

.sort-controls .dropdown-item:hover {
  background-color: var(--bg-secondary);
  color: var(--color-primary);
}

.sort-controls .dropdown-item i {
  width: 20px;
  color: var(--text-secondary);
}

.search-results-info {
  text-align: center;
  padding: 0.5rem;
  background: rgba(32, 71, 95, 0.1);
  border-radius: 6px;
}

/* Item Card Enhancements */
.card-title {
  color: var(--color-primary);
  font-weight: 600;
}

.item-date {
  font-size: 0.8rem;
  white-space: nowrap;
}

.item-date i {
  color: var(--color-gray-500);
}

/* Mobile Optimizations */
@media (max-width: 768px) {
  .search-sort-container {
    padding: 1rem;
    margin-bottom: 1.5rem;
  }

  .search-box {
    margin-bottom: 1rem;
  }

  .sort-controls {
    justify-content: center !important;
  }

  .sort-controls .dropdown-toggle {
    width: 100%;
    text-align: center;
  }

  .item-date {
    font-size: 0.75rem;
  }

  .card-title {
    font-size: 1.1rem;
    line-height: 1.3;
  }

  .search-results-info {
    font-size: 0.9rem;
  }
}

/* Empty State */
.empty-state {
  text-align: center;
  padding: 3rem 1rem;
  color: var(--text-secondary);
}

.empty-state i {
  font-size: 3rem;
  margin-bottom: 1rem;
  color: var(--border-color);
}

.empty-state h3 {
  color: var(--text-muted);
  margin-bottom: 0.5rem;
}

/* Loading State */
.loading-spinner {
  display: none;
  text-align: center;
  padding: 2rem;
}

.loading-spinner.show {
  display: block;
}

/* Search Input Enhancements */
.search-box .btn-outline-secondary {
  border-left: none;
  border-color: var(--border-color);
}

.search-box .btn-outline-secondary:hover {
  background-color: var(--bg-secondary);
  border-color: var(--border-light);
}

/* Responsive Grid Improvements */
@media (min-width: 576px) {
  .row-cols-sm-2>* {
    flex: 0 0 auto;
    width: 50%;
  }
}

@media (min-width: 992px) {
  .row-cols-lg-4>* {
    flex: 0 0 auto;
    width: 25%;
  }
}

/* override bootstrap color for the contact block*/
.bg-primary {
  background-color: var(--color-primary) !important;
  color: var(--color-white) !important;
}

/* Ensure text and icons in bg-primary elements are always white */
.bg-primary,
.bg-primary h1,
.bg-primary h2,
.bg-primary h3,
.bg-primary h4,
.bg-primary h5,
.bg-primary h6,
.bg-primary p,
.bg-primary span,
.bg-primary i,
.bg-primary .fas,
.bg-primary .far,
.bg-primary .fab {
  color: var(--color-white) !important;
}

/* Specifically target the contact header */
.card-header.bg-primary {
  background-color: var(--color-primary) !important;
  color: var(--color-white) !important;
}

.card-header.bg-primary h5,
.card-header.bg-primary i {
  color: var(--color-white) !important;
}

/* Override Bootstrap's outline-primary button to use your color palette */
.btn-outline-primary {
  color: var(--color-primary);
  border-color: var(--color-primary);
}

.btn-outline-primary:hover,
.btn-outline-primary:focus,
.btn-outline-primary:active,
.btn-outline-primary.active {
  background-color: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
}

.btn-outline-primary:focus,
.btn-outline-primary.focus {
  box-shadow: 0 0 0 0.25rem rgba(32, 71, 95, 0.25);
  /* Using your primary color with opacity */
}

.btn-primary {
  background-color: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
}

.btn-primary:hover,
.btn-primary:focus,
.btn-primary:active,
.btn-primary.active {
  background-color: var(--color-primary-dark);
  border-color: var(--color-primary-dark);
}

.btn-primary:focus,
.btn-primary.focus {
  box-shadow: 0 0 0 0.25rem rgba(32, 71, 95, 0.25);
}

/* Override Bootstrap's text-primary to use your color palette */
.text-primary {
  color: var(--color-primary) !important;
}

/* Ensure text-white is always white regardless of theme */
.text-white {
  color: var(--color-white) !important;
}

/* Additional color utility overrides */
.text-secondary {
  color: var(--color-gray-500) !important;
}

.text-success {
  color: #28a745 !important;
  /* You could replace with your own success color if needed */
}

.text-danger {
  color: var(--color-accent) !important;
  /* Using your accent color for danger */
}

/* The
me-aware form controls */
.form-control {
  background-color: var(--bg-primary);
  border-color: var(--border-color);
  color: var(--text-primary);
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

.form-control:focus {
  background-color: var(--bg-primary);
  border-color: var(--color-primary);
  color: var(--text-primary);
  box-shadow: 0 0 0 0.2rem rgba(32, 71, 95, 0.25);
}

.form-control::placeholder {
  color: var(--text-secondary);
}

/* Theme-aware cards */
.card {
  background-color: var(--bg-primary);
  border-color: var(--border-color);
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

.card-header {
  background-color: var(--bg-secondary);
  border-bottom-color: var(--border-color);
  color: var(--text-primary);
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

.card-body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Theme-aware dropdown menus - Apply to all dropdowns */
.dropdown-menu {
  background-color: var(--bg-primary) !important;
  border: 1px solid var(--border-color) !important;
  box-shadow: 0 4px 12px var(--shadow-dark) !important;
  transition: background-color 0.3s ease, border-color 0.3s ease !important;
}

/* Theme-aware dropdown items */
.dropdown-item {
  color: var(--text-primary) !important;
  transition: color 0.3s ease, background-color 0.3s ease;
}

.dropdown-item:hover,
.dropdown-item:focus {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
}

/* Theme-aware modals */
.modal-content {
  background-color: var(--bg-primary);
  border-color: var(--border-color);
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

.modal-header {
  border-bottom-color: var(--border-color);
  transition: border-color 0.3s ease;
}

.modal-footer {
  border-top-color: var(--border-color);
  transition: border-color 0.3s ease;
}

/* Theme-aware tables */
.table {
  color: var(--text-primary);
  background-color: var(--bg-primary);
  transition: color 0.3s ease, background-color 0.3s ease;
}

.table th,
.table td {
  border-top-color: var(--border-color);
  color: var(--text-primary);
  background-color: var(--bg-primary);
  transition: border-color 0.3s ease, color 0.3s ease, background-color 0.3s ease;
}

/* Remove alternating row colors - use consistent background */
.table-striped tbody tr:nth-of-type(odd) {
  background-color: var(--bg-primary);
}

.table-striped tbody tr:nth-of-type(odd) td {
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

/* Ensure all table rows have consistent styling */
.table tbody tr {
  background-color: var(--bg-primary);
}

.table tbody tr td {
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

/* Theme-aware alerts */
.alert {
  border-color: var(--border-color);
  transition: border-color 0.3s ease, background-color 0.3s ease;
}

/* Theme-aware navigation pills/tabs */
.nav-pills .nav-link {
  color: var(--text-secondary);
  transition: color 0.3s ease, background-color 0.3s ease;
}

.nav-pills .nav-link.active {
  background-color: var(--color-primary);
}

.nav-tabs .nav-link {
  color: var(--text-secondary);
  border-color: var(--border-color);
  transition: color 0.3s ease, border-color 0.3s ease, background-color 0.3s ease;
}

.nav-tabs .nav-link:hover {
  border-color: var(--border-light);
  background-color: var(--bg-secondary);
}

.nav-tabs .nav-link.active {
  color: var(--text-primary);
  background-color: var(--bg-primary);
  border-color: var(--border-color) var(--border-color) var(--bg-primary);
}

/* Theme-aware list groups */
.list-group-item {
  background-color: var(--bg-primary);
  border-color: var(--border-color);
  color: var(--text-primary);
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

.list-group-item:hover {
  background-color: var(--bg-secondary);
}

/* Theme-aware badges */
.badge-secondary {
  background-color: var(--text-secondary);
  color: var(--bg-primary);
}

/* Admin Dashboard Enhancements */
.bg-light {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.bg-danger.bg-opacity-10 {
  background-color: rgba(220, 53, 69, 0.1) !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] .bg-danger.bg-opacity-10 {
  background-color: rgba(255, 84, 89, 0.2) !important;
  color: var(--text-primary) !important;
}

.text-success {
  color: #28a745 !important;
}

[data-theme="dark"] .text-success {
  color: #4caf50 !important;
}

/* Fix card header text in admin panels */
.card-header {
  color: var(--text-primary) !important;
}

/* Ensure small text elements have proper contrast */
small {
  color: var(--text-secondary) !important;
}

/* Fix badge text contrast */
.badge {
  color: var(--color-white) !important;
}

/* Admin table enhancements - consistent background */
.table-striped>tbody>tr:nth-of-type(odd)>td {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
}

.table-striped>tbody>tr:nth-of-type(even)>td {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
}

/* Ensure table headers have proper contrast */
.table thead th {
  color: var(--text-primary) !important;
  background-color: var(--bg-primary) !important;
  border-bottom-color: var(--border-color);
}

/* Fix text color in all table cells */
.table tbody td {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
}

/* Ensure table rows have consistent background */
.table tbody tr {
  background-color: var(--bg-primary) !important;
}

/* Admin navigation cards */
.nav.flex-column .nav-link {
  color: var(--text-primary) !important;
  transition: color 0.3s ease, background-color 0.3s ease;
}

.nav.flex-column .nav-link:hover {
  color: var(--color-primary) !important;
  background-color: var(--bg-secondary);
  border-radius: 0.375rem;
}

/* Theme-aware borders */
.border {
  border-color: var(--border-color) !important;
}

.border-top {
  border-top-color: var(--border-color) !important;
}

.border-bottom {
  border-bottom-color: var(--border-color) !important;
}

.border-left {
  border-left-color: var(--border-color) !important;
}

.border-right {
  border-right-color: var(--border-color) !important;
}

/* Theme-aware button variants */
.btn-outline-secondary {
  color: var(--text-secondary) !important;
  border-color: var(--border-color) !important;
  background-color: var(--bg-primary) !important;
  transition: all 0.3s ease;
}

.btn-outline-secondary:hover,
.btn-outline-secondary:focus,
.btn-outline-secondary:active {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-light) !important;
  color: var(--text-primary) !important;
}

/* Theme-aware close button */
.btn-close {
  filter: var(--bs-btn-close-filter, none);
}

[data-theme="dark"] .btn-close {
  filter: invert(1) grayscale(100%) brightness(200%);
}

/* Theme-aware text colors */
.text-muted {
  color: var(--text-muted) !important;
}

.text-info {
  color: #17a2b8 !important;
}

[data-theme="dark"] .text-info {
  color: #20c997 !important;
}

/* Override Bootstrap's default text colors for better dark mode support */
.text-dark {
  color: var(--text-primary) !important;
}

.text-body {
  color: var(--text-primary) !important;
}

/* Ensure all text elements inherit proper colors */
h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--text-primary);
}

p {
  color: var(--text-primary);
}

/* Fix any remaining text contrast issues */
.card-body p,
.card-body small,
.card-body strong {
  color: var(--text-primary) !important;
}

/* Theme transition for smooth switching - Performance Optimized */
:root {
  /* Performance optimization: Use will-change for elements that will transition */
  --theme-transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
}

/* Optimized theme transitions - only apply to elements that need it */
body,
.navbar,
.card,
.form-control,
.btn,
.dropdown-menu,
.modal-content,
.table,
.alert,
.nav-link,
.list-group-item,
.item-card,
.search-sort-container,
.change-password-form,
.footer,
.gallery-overlay,
.gallery-header,
.gallery-info,
.gallery-thumbnails {
  transition: var(--theme-transition);
  will-change: background-color, color, border-color;
}

/* Prevent transition on page load and during rapid theme switching */
.preload *,
.theme-switching * {
  transition: none !important;
}

/* Performance optimization: Use transform3d to enable hardware acceleration */
.theme-toggle i,
.mobile-theme-toggle i {
  transform: translate3d(0, 0, 0);
  will-change: transform;
}

/* Optimize gallery transitions */
.modern-gallery {
  will-change: opacity, visibility;
}

/* Reduce paint operations during theme switch */
.item-card {
  contain: layout style paint;
}

/* Optimize mobile menu transitions */
.mobile-menu {
  will-change: transform;
  transform: translate3d(0, 0, 0);
}

/* Performance Optimizations for Theme Switching */

/* Prevent layout shifts during theme transitions */
.theme-switching {
  pointer-events: none;
  /* Prevent interactions during transition */
}

/* Optimize critical rendering path for theme variables */
:root {
  /* Pre-define all theme variables to prevent FOUC */
  --theme-transition-fast: 0.15s ease;
  --theme-transition-normal: 0.2s ease;
  --theme-transition-slow: 0.3s ease;
}

/* Use faster transitions for frequently changing elements */
.theme-toggle,
.mobile-theme-toggle,
.theme-toggle i,
.mobile-theme-toggle i {
  transition-duration: var(--theme-transition-fast) !important;
}

/* Optimize paint operations by containing layout changes */
.navbar,
.mobile-nav,
.item-card,
.card {
  contain: layout style;
}

/* Don't contain search-sort-container to allow dropdown overflow */
.search-sort-container {
  contain: none;
}

/* Reduce composite layer creation */
.theme-toggle:not(:hover):not(:active),
.mobile-theme-toggle:not(:hover):not(:active) {
  transform: none;
}

/* Optimize for 60fps animations */
@media (prefers-reduced-motion: no-preference) {

  .theme-toggle i,
  .mobile-theme-toggle i {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {

  .theme-toggle,
  .mobile-theme-toggle,
  .theme-toggle i,
  .mobile-theme-toggle i {
    transition: none !important;
    animation: none !important;
  }

  /* Still allow color transitions for accessibility */
  body,
  .card,
  .navbar {
    transition: background-color var(--theme-transition-fast),
      color var(--theme-transition-fast) !important;
  }
}

/* Optimize memory usage by limiting will-change */
.theme-toggle:hover,
.mobile-theme-toggle:hover {
  will-change: transform, background-color;
}

.theme-toggle:not(:hover),
.mobile-theme-toggle:not(:hover) {
  will-change: auto;
}

/* Performance hint for browsers */
.theme-toggle,
.mobile-theme-toggle {
  backface-visibility: hidden;
  perspective: 1000px;
}

/*
 Admin Dashboard Button Improvements */
.table td form {
  display: inline-block;
  margin: 0;
}

/* Make edit and delete buttons same width */
.table .btn-sm {
  min-width: 70px;
  text-align: center;
}

/* Mobile optimizations for admin buttons */
@media (max-width: 768px) {

  /* Stack buttons vertically on mobile */
  .table td {
    white-space: normal;
  }

  .table .btn-sm {
    display: block;
    width: 100%;
    margin-bottom: 0.25rem;
    min-width: auto;
  }

  .table td form {
    display: block;
    width: 100%;
  }

  /* Ensure last button doesn't have bottom margin */
  .table .btn-sm:last-child,
  .table td form:last-child .btn-sm {
    margin-bottom: 0;
  }

  /* Improve table readability on mobile */
  .table-striped tbody tr td {
    padding: 0.75rem 0.5rem;
  }

  /* Make actions column wider on mobile */
  .table th:last-child,
  .table td:last-child {
    min-width: 120px;
  }
}

/* Improve button spacing in desktop view */
@media (min-width: 769px) {
  .table .btn-sm+form {
    margin-left: 0.25rem;
  }
}

/* F
ix dropdown z-index issues */
.dropdown-menu {
  z-index: 1050 !important;
}

.dropdown {
  position: relative;
  z-index: 1050;
}

/* Ensure item cards don't interfere with dropdowns */
.item-card {
  position: relative;
  z-index: 1;
}

/* Fix any Bootstrap dropdown z-index conflicts */
.dropdown-menu.show {
  z-index: 1050 !important;
}

/* Fix d
ropdown z-index issues - High priority fixes */
.dropdown-menu {
  z-index: 9999 !important;
  position: absolute !important;
}

.dropdown {
  position: relative;
  z-index: 9999;
}

/* Ensure item cards don't interfere with dropdowns */
.item-card {
  position: relative;
  z-index: 1;
}

/* Fix any Bootstrap dropdown z-index conflicts */
.dropdown-menu.show {
  z-index: 9999 !important;
}

/* Specifically target sort controls dropdown */
.sort-controls {
  position: relative;
  z-index: 9999;
}

/* Override any conflicting Bootstrap styles */
.btn-group>.dropdown-menu,
.dropdown>.dropdown-menu {
  z-index: 9999 !important;
}

/* Mob
ile Responsive Styles */
@media (max-width: 768px) {
  body {
    padding-top: 60px;
  }

  .item-card {
    margin-bottom: 1rem;
  }

  .hero-section h1 {
    font-size: 1.75rem;
  }

  .hero-section {
    margin-top: 1rem;
  }

  /* Improve touch targets */
  .item-card {
    min-height: 44px;
  }

  .card-body {
    padding: 1rem;
  }

  /* Better spacing for mobile */
  .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  /* Optimize grid for mobile */
  .row-cols-1 {
    --bs-gutter-x: 1rem;
  }

  /* Language selector mobile optimizations */
  .language-selector {
    margin: 0 0.125rem;
  }

  .language-toggle {
    padding: 0.4rem 0.6rem;
    gap: 0.4rem;
  }

  .language-toggle .language-toggle span {
    font-size: 0.85rem;
    min-width: 20px;
  }

  .language-menu {
    min-width: 140px;
    right: -10px;
  }

  .language-option {
    padding: 0.6rem 0.8rem;
    gap: 0.6rem;
  }

  .language-option .language-option span {
    font-size: 0.9rem;
  }

  /* Search and sort mobile optimizations */
  .search-sort-container {
    padding: 1rem;
    margin-bottom: 1.5rem;
  }

  .search-box {
    margin-bottom: 1rem;
  }

  .sort-controls {
    justify-content: center !important;
  }

  .sort-controls .dropdown-toggle {
    width: 100%;
    text-align: center;
  }

  .item-date {
    font-size: 0.75rem;
  }

  .card-title {
    font-size: 1.1rem;
    line-height: 1.3;
  }

  .search-results-info {
    font-size: 0.9rem;
  }

  /* Gallery mobile optimizations */
  .gallery-nav {
    font-size: 1.2rem;
    padding: 0.8rem;
  }

  .gallery-prev {
    left: 1rem;
  }

  .gallery-next {
    right: 1rem;
  }

  .gallery-thumbnails {
    padding: 0.5rem;
  }

  .gallery-thumbnail {
    width: 50px;
    height: 50px;
  }

  .gallery-header,
  .gallery-info {
    padding: 0.75rem 1rem;
  }

  /* Admin table mobile optimizations */
  .table td {
    white-space: normal;
  }

  .table .btn-sm {
    display: block;
    width: 100%;
    margin-bottom: 0.25rem;
    min-width: auto;
  }

  .table td form {
    display: block;
    width: 100%;
  }

  .table .btn-sm:last-child,
  .table td form:last-child .btn-sm {
    margin-bottom: 0;
  }

  .table-striped tbody tr td {
    padding: 0.75rem 0.5rem;
  }

  .table th:last-child,
  .table td:last-child {
    min-width: 120px;
  }
}

/* Touch-friendly improvements */
@media (hover: none) and (pointer: coarse) {
  .gallery-nav {
    opacity: 1;
    background-color: rgba(255, 255, 255, 0.3);
  }

  .item-card {
    transition: transform 0.1s;
  }

  .item-card:active {
    transform: scale(0.98);
  }

  /* Touch-friendly language selector */
  .language-toggle {
    min-height: 44px;
    min-width: 44px;
  }

  .language-option {
    min-height: 44px;
    padding: 0.75rem 1rem;
  }

  .mobile-language-option {
    min-height: 48px;
    padding: 0.875rem 1.5rem;
  }

  /* Improve touch feedback */
  .language-toggle:active {
    transform: translate3d(0, 0, 0) scale(0.95);
    transition-duration: 0.1s;
  }

  .language-option:active,
  .mobile-language-option:active {
    background-color: var(--bg-tertiary);
    transition-duration: 0.1s;
  }
}

/* Desktop improvements for admin buttons */
@media (min-width: 769px) {
  .table .btn-sm+form {
    margin-left: 0.25rem;
  }
}

/* Mob
ile Language Selector Styles */
.mobile-language-section {
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  margin-bottom: 1rem;
}

.mobile-language-header {
  padding: 1rem 1.5rem 0.5rem;
  color: var(--color-white);
  font-size: 0.9rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  opacity: 0.8;
}

.mobile-language-option {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1.5rem;
  color: var(--color-white) !important;
  text-decoration: none;
  transition: background-color 0.2s ease, color 0.2s ease;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.mobile-language-option:last-child {
  border-bottom: none;
  margin-bottom: 1rem;
}

.mobile-language-option:hover {
  background-color: rgba(255, 255, 255, 0.1);
  color: var(--color-accent) !important;
}

.mobile-language-option.active {
  background-color: rgba(255, 255, 255, 0.15);
  color: var(--color-accent) !important;
}

.mobile-language-option span {
  font-size: 1rem;
  font-weight: 500;
  flex: 1;
}

.mobile-language-option .fa-check {
  font-size: 0.9rem;
  color: var(--color-accent);
}

/* Specific flag emoji styling for better visibility */
.language-toggle .flag-emoji,
.language-option .flag-emoji,
.mobile-language-option .flag-emoji {
  font-size: 1.1em;
  margin-right: 0.5rem;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .language-menu {
    border-width: 2px;
  }

  .language-option {
    border-bottom-width: 2px;
  }

  .language-toggle:focus-visible,
  .language-option:focus-visible {
    outline-width: 3px;
  }
}